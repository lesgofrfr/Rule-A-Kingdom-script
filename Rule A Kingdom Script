--// Finite Storm GUI: Arrest All Except Self, Cadencat151, Shark_Sick123, and IStoleYourForkA (100x)

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- Create GUI
local gui = Instance.new("ScreenGui")
gui.Name = "FiniteStormGUI"
gui.ResetOnSpawn = false
gui.Parent = LocalPlayer:WaitForChild("PlayerGui")

-- Create Tab Frame (Draggable)
local tabFrame = Instance.new("Frame")
tabFrame.Size = UDim2.new(0, 200, 0, 100)
tabFrame.Position = UDim2.new(0, 20, 0, 20)
tabFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
tabFrame.BorderSizePixel = 0
tabFrame.Active = true
tabFrame.Draggable = true
tabFrame.Parent = gui

-- Create "Arrest All" Button
local arrestButton = Instance.new("TextButton")
arrestButton.Size = UDim2.new(0, 180, 0, 40)
arrestButton.Position = UDim2.new(0, 10, 0, 30)
arrestButton.Text = "Arrest All"
arrestButton.BackgroundColor3 = Color3.fromRGB(0, 102, 204)
arrestButton.TextColor3 = Color3.fromRGB(255, 255, 255)
arrestButton.Font = Enum.Font.GothamBold
arrestButton.TextSize = 20
arrestButton.Parent = tabFrame

-- Arrest Logic: 100 times, exclude self, Cadencat151, Shark_Sick123, and IStoleYourForkA
arrestButton.MouseButton1Click:Connect(function()
	local criminalSystem = ReplicatedStorage:FindFirstChild("CriminalSystem")
	if criminalSystem and criminalSystem:IsA("RemoteEvent") then
		local count = 0
		local maxCount = 100

		local loop = coroutine.create(function()
			while count < maxCount do
				for _, targetPlayer in ipairs(Players:GetPlayers()) do
					if targetPlayer.Name ~= LocalPlayer.Name
						and targetPlayer.Name ~= "Cadencat151"
						and targetPlayer.Name ~= "Shark_Sick123"
						and targetPlayer.Name ~= "IStoleYourForkA" then
						
						local args = {
							"Arrested",
							targetPlayer
						}
						criminalSystem:FireServer(unpack(args))
					end
				end
				count += 1
				task.wait(0.05)
			end
		end)

		coroutine.resume(loop)
	end
end)
